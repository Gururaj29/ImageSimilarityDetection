
# Multimedia and Web Databases Project - Phase 1

### About the project

This project is about extracting useful feature descriptors - color moments (mean, standard deviation, skewness), Histogram of Oriented Gradients (HOG), ResNet50 AvgPool, ResNet50 Layer3 and ResNet Fully Connected output layers and using them to get k most similar images given the query images

### Code structure
 This repository contains six python files

 * constants - contains all constants used by this repository
 * main - used to generate all feature descriptors and find k most similar images, all the input is used to this file using functions
 * utils - utility package which contains all internal methods required for extracting and loading dataset, resizing images and other image functions
 * resnet - this file contains a super class of Resnet50 model to attach hooks to get all the required output layers
 * feature_descriptor - this file contains all methods required for generating feature descriptors. This includes methods for 
    * extracting all RGB images from the data
    * resizing all extracted images and saving them in Images folder
    * partitioning image
    * calculating each feature descriptor for each image and saving them as CSV files in Output folder
    * reading output CSV files and fetching FD vectors for given image and feature description ID
* similarity_measure - this file contains all similarity functions and also methods to show k most similar images for a given query image

### Output
After we run the program, all extracted images will be saved in `Images` folder and all feature descriptor will be saved in `Output` folder and preview of k most similar images will be shown. 'Images' and 'Output' have been deleted as they will be autogenerated once we running the program. Output folder containing all generated FD CSV files has been moved out of this repository. Query output screenshots also stored in the outer `Output` folder

### How to run

* Ensure that all query inputs are updated in main.py such as query_image_id, k (for k number of most similar images), feature descriptor ID (FD to be used) and similarity measure ID (similarity measure to be used)
* If we already have generated feature descriptor output files, we can comment out line #12 in main.py
* Run `python3 main.py` to see the 'k' most similar images
